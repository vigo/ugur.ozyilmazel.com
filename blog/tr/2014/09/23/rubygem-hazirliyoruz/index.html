
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Rubygem Hazırlıyoruz - Uğur “vigo” Özyılmazel</title>
        <link rel="alternate" type="application/atom+xml" title="Atom Feed (Türkçe)" href="/feed-tr.xml" />
        <link rel="alternate" type="application/atom+xml" title="Atom Feed (English)" href="/feed-en.xml" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
        <script src="https://kit.fontawesome.com/ebc2456445.js" crossorigin="anonymous"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

        <link href="/public/css/syntax.css" rel="stylesheet" />
        <link href="/public/css/application.css" rel="stylesheet" />
    

        <script src="/public/js/application.js"></script>
    
        <meta name="date" content="2022-10-08T13:06:00+03:00" />
        <meta name="description" content="How I start sitesinde görüp, kesinlikle Türkçe’si de olmalı dediğim, sıfırdan Ruby GEM’i hazırlamayı anlatan blog postuma hoşgeldiniz!" />
        <meta name="author" content="Uğur “vigo” Özyılmazel"/>
        <meta name="copyright" content="(c) 2006 / 2022 - Uğur “vigo” Özyılmazel" />
        <meta property="og:url" content="https://ugur.ozyilmazel.com/blog/tr/2014/09/23/rubygem-hazirliyoruz/" />
        <meta property="og:title" content="Rubygem Hazırlıyoruz" />
        <meta property="og:site_name" content="vigo" />
        <meta property="og:type" content="website" />
        <meta property="og:description" content="How I start sitesinde görüp, kesinlikle Türkçe’si de olmalı dediğim, sıfırdan Ruby GEM’i hazırlamayı anlatan blog postuma hoşgeldiniz!" />
        <meta property="og:image" content="https://ugur.ozyilmazel.com/public/images/covers/2014-09-23-rubygems.png" />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="3330" />
        <meta property="og:image:height" content="768" />

    <link href="/public/images/favicon.png" rel="shortcut icon" type="image/png" />
    </head>
<body>
    
    
    <section class="section menu">
    <div class="container">
        <nav class="level is-mobile">
            <div class="level-left">
<div class="level-item"><a href="/">Anasayfa</a></div><div class="level-item"><a href="/blog/tr/" class="is-active">Blog Arşiv</a></div><div class="level-item"><a href="/sayfa/tr/sunumlar/">Sunumlar</a></div>            </div>
            <div class="level-right">
<div class="level-item"><a href="https://vbyazilim.com" target="_blank">VB</a></div><div class="level-item"><a href="/en/">EN</a></div>            </div>
        </nav>
    </div>
</section>

    
        <section class="hero is-medium cover is-hidden-touch" style="background-image: url(/public/images/covers/2014-09-23-rubygems.png);">
        <div class="hero-body">
            <div class="container has-text-left">
                
                
            </div>
        </div>
    </section>
  
    
        <section class="section main">
        <div class="container">
        
            <div class="columns is-multiline is-variable is-8">
                <div class="column is-9-desktop is-full-tablet">
                    <div class="content is-large">
                        <article>
                            <div class="meta">
                                <span class="reading-time">OKUMA SÜRESİ 04:05</span>
                                &mdash;
                                <time pubdate datetime="2014-09-23T12:45:00+03:00" title="23 Eylül 2014, Salı 12:45">23 Eylül 2014, Salı 12:45</time>


                                <div class="tags mt-3">
                                        <a href="/blog/tr/etiket/gem/" class="tag is-info">gem</a>
                                        <a href="/blog/tr/etiket/bundler/" class="tag is-info">bundler</a>
                                </div>
                                
                            </div>
                            
                            <h1 class="title">Rubygem Hazırlıyoruz</h1>
                            
                            <div class="yield"><p><a href="http://howistart.org/">How I start</a> sitesinde görüp, kesinlikle Türkçe’si
de olmalı dediğim, sıfırdan Ruby GEM’i hazırlamayı anlatan blog
postuma hoşgeldiniz!
</p>

<h2>Gerekenler</h2>

<ul>
<li><a href="https://rubygems.org">Rubygems</a>’de hesap</li>
<li><a href="https://github.com">GitHub</a>’da hesap</li>
<li><a href="http://rvm.io">RVM</a> ya da <a href="https://github.com/sstephenson/rbenv">Rbenv</a></li>
<li><a href="http://bundler.io/">Bundler</a> gem’i</li>
<li><a href="http://git-scm.com/">GIT</a> revizyon kontrol</li>
</ul>

<p>Öncelikle ilk ihtiyacımız olan şey <a href="https://rubygems.org">Rubygems.org</a> sitesinde
bir hesap olması! Eğer yoksa hızlıca bu sitede bir hesap oluşturmanız gerekiyor.</p>

<p>Hangi <code>ruby</code> versiyonunu kullanıyorsanız kullanın, mutlaka <code>bundler</code> gem’i de
kurulu olmalı. Eğer kurulu değilse;</p>
<div class="highlight"><pre class="highlight shell"><code>gem <span class="nb">install </span>bundler
</code></pre></div>
<p>şeklinde kurabilirsiniz. Ya <a href="http://rvm.io">RVM</a> ya da <a href="https://github.com/sstephenson/rbenv">RBENV</a> 
kullandığınızı varsayıyorum. Keza aynı şekilde sisteminizde <a href="http://git-scm.com/">GIT</a> revizyon
kontrol sisteminin de kurulu olduğunu varsayıyorum. </p>

<p>İlk olarak Rubygems’deki credentials’ımızı lokal makinemize aktaralım. Hesap
oluştururken belirlediğiniz <strong>KULLANICI_ADI</strong>’nı aşağıdaki yere girerek
gerekli kimlik bilgilerini çekiyoruz. Bu sayede, en son safhada yapacağımız
<code>gem push</code> etme işlemini yapabilme yetkisini ayarlıyoruz.</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-u</span> KULLANICI_ADI https://rubygems.org/api/v1/api_key.yaml <span class="o">&gt;</span> ~/.gem/credentials<span class="p">;</span> <span class="nb">chmod </span>0600 ~/.gem/credentials
</code></pre></div>
<p>Örnek olması adına, çok basit bir iş yapan uygulama hazırlayacağız. Basit
bir hesap makinesi. 2 sayı ve yapacağı işlemi vereceğiz bize sonucunu geri
dönecek. Uygulamanın adı <strong>simple_calcu</strong> olsun.</p>

<p>Şimdi, ilgili <code>gem</code> iskeletini oluşturalım:</p>
<div class="highlight"><pre class="highlight shell"><code>bundle gem simple_calcu
</code></pre></div>
<p>işlem sonunda;</p>
<div class="highlight"><pre class="highlight plaintext"><code>      create  simple_calcu/Gemfile
      create  simple_calcu/Rakefile
      create  simple_calcu/LICENSE.txt
      create  simple_calcu/README.md
      create  simple_calcu/.gitignore
      create  simple_calcu/simple_calcu.gemspec
      create  simple_calcu/lib/simple_calcu.rb
      create  simple_calcu/lib/simple_calcu/version.rb
Initializing git repo in /private/tmp/simple_calcu
</code></pre></div>
<p>gerekli dosyalar oluşturuldu. <strong>Bundler</strong> bizim için pek çok şeyi
otomatik olarak üretti. Şimdi <code>cd simple_calcu/</code> diyip projenin içine
girelim ve <code>bundle exec rake -T</code> diyerek bize sunulan <strong>default</strong>
task’lere bakalım:</p>
<div class="highlight"><pre class="highlight plaintext"><code>rake build    # Build simple_calcu-0.0.1.gem into the pkg directory
rake install  # Build and install simple_calcu-0.0.1.gem into system gems
rake release  # Create tag v0.0.1 and build and push simple_calcu-0.0.1.gem to Rubygems
</code></pre></div>
<p><code>rake build</code> ile hazırlayacağımız <code>gem</code>’i paketleyeceğiz. <code>rake install</code> ile
yaptığımız <code>gem</code> kurup test edeceğiz. En son olarak <code>rake release</code> ile
Rubygems’e push edeceğiz.</p>

<h3>.gemspec</h3>

<p>Otomatik olarak oluşan dosya aşağıdaki gibi:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="c1"># coding: utf-8</span>
<span class="n">lib</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">expand_path</span><span class="p">(</span><span class="s1">'../lib'</span><span class="p">,</span> <span class="kp">__FILE__</span><span class="p">)</span>
<span class="vg">$LOAD_PATH</span><span class="p">.</span><span class="nf">unshift</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span> <span class="k">unless</span> <span class="vg">$LOAD_PATH</span><span class="p">.</span><span class="nf">include?</span><span class="p">(</span><span class="n">lib</span><span class="p">)</span>
<span class="nb">require</span> <span class="s1">'simple_calcu/version'</span>

<span class="no">Gem</span><span class="o">::</span><span class="no">Specification</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">spec</span><span class="o">|</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">name</span>          <span class="o">=</span> <span class="s2">"simple_calcu"</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">version</span>       <span class="o">=</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="no">VERSION</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">authors</span>       <span class="o">=</span> <span class="p">[</span><span class="s2">"Uğur Özyılmazel"</span><span class="p">]</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">email</span>         <span class="o">=</span> <span class="p">[</span><span class="s2">"ugurozyilmazel@gmail.com"</span><span class="p">]</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">summary</span>       <span class="o">=</span> <span class="sx">%q{TODO: Write a short summary. Required.}</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">description</span>   <span class="o">=</span> <span class="sx">%q{TODO: Write a longer description. Optional.}</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">homepage</span>      <span class="o">=</span> <span class="s2">""</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">license</span>       <span class="o">=</span> <span class="s2">"MIT"</span>

  <span class="n">spec</span><span class="p">.</span><span class="nf">files</span>         <span class="o">=</span> <span class="sb">`git ls-files -z`</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="s2">"</span><span class="se">\x0</span><span class="s2">"</span><span class="p">)</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">executables</span>   <span class="o">=</span> <span class="n">spec</span><span class="p">.</span><span class="nf">files</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">%r{^bin/}</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="no">File</span><span class="p">.</span><span class="nf">basename</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">}</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">test_files</span>    <span class="o">=</span> <span class="n">spec</span><span class="p">.</span><span class="nf">files</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">%r{^(test|spec|features)/}</span><span class="p">)</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">require_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"lib"</span><span class="p">]</span>

  <span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"bundler"</span><span class="p">,</span> <span class="s2">"~&gt; 1.6"</span>
  <span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"rake"</span><span class="p">,</span> <span class="s2">"~&gt; 10.0"</span>
<span class="k">end</span>
</code></pre></div>
<p><code>spec.authors</code> ve <code>spec.email</code> bilgileri <code>.gitconfig</code>’den otomatik olarak
geldi. Hemen bu uygulama ile ilgili bir kısa bir de uzun açıklama yazalım
<code>spec.summary</code> ve <code>spec.description</code> alanına;</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">summary</span>       <span class="o">=</span> <span class="sx">%q{Simple Calculator.}</span>
<span class="n">spec</span><span class="p">.</span><span class="nf">description</span>   <span class="o">=</span> <span class="sx">%q{Make 4 basic calculations like addition/subtraction/multiplication and division via 2 numbers.}</span>
</code></pre></div>
<p>şimdi bir <code>commit</code> yapalım:</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"init"</span>
</code></pre></div>
<p>Test için gereken bağlımlılığı (<em>dependency</em>) ekleyelim <code>.gemspec</code> dosyasına;</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"rake"</span><span class="p">,</span> <span class="s2">"~&gt; 10.0"</span> <span class="c1"># bu satırın altına</span>
<span class="n">spec</span><span class="p">.</span><span class="nf">add_development_dependency</span> <span class="s2">"minitest"</span>
</code></pre></div>
<p>Tekrar <code>commit</code> yapalım;</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Minitest dependency added"</span>
</code></pre></div>
<p>Otomatik olarak üretilmiş olan <code>README.md</code> dosyasına da baktığınızda, içini
doldurabileceğimiz, düzenleme yapabileceğimiz türden hazır bir açıklama
dosyası görürüz. Bu dosyayı en sonda düzenleyeceğiz.</p>

<p>Testlerimizi çalıştırabilmek için <code>Rakefile</code>’a eklemeler yapıyoruz ve
aşağıdaki hale getiriyoruz:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s2">"bundler/gem_tasks"</span>
<span class="nb">require</span> <span class="s2">"rake/testtask"</span>

<span class="no">Rake</span><span class="o">::</span><span class="no">TestTask</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
  <span class="n">t</span><span class="p">.</span><span class="nf">test_files</span> <span class="o">=</span> <span class="no">FileList</span><span class="p">[</span><span class="s1">'test/*_test.rb'</span><span class="p">]</span>
<span class="k">end</span>

<span class="n">task</span> <span class="ss">default: :test</span>
</code></pre></div>
<p>Yaptığımız işlemi kontrol etmek için;</p>
<div class="highlight"><pre class="highlight shell"><code>bundle <span class="nb">exec </span>rake
<span class="nb">echo</span> <span class="nv">$?</span>
<span class="c"># 0 görürsek herşey yolunda!</span>
</code></pre></div>
<p>Tekrar <code>commit</code> yapalım:</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Rakefile modified for test tasks"</span>
</code></pre></div>
<p>Şimdi, unit-test’lerimizi yazmak için test dizini oluşturup ilgili test
dosyalarını ekleyeceğiz:</p>
<div class="highlight"><pre class="highlight shell"><code><span class="nb">mkdir test
cd test</span>/
<span class="nb">touch </span>calculator_test.rb
</code></pre></div>
<p><code>calculator_test.rb</code> dosyasını açıp;</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'minitest/autorun'</span>
<span class="nb">require</span> <span class="s1">'simple_calcu'</span>

<span class="k">class</span> <span class="nc">CalculatorTest</span> <span class="o">&lt;</span> <span class="no">Minitest</span><span class="o">::</span><span class="no">Test</span>
  <span class="k">def</span> <span class="nf">test_addition</span>
    <span class="n">assert_equal</span> <span class="mi">5</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>ekleyelim ve test’i çalıştıralım:</p>
<div class="highlight"><pre class="highlight shell"><code>bundle <span class="nb">exec </span>rake
</code></pre></div>
<p>ve Güüüüüüüüm! Test patladı:</p>
<div class="highlight"><pre class="highlight plaintext"><code>Run options: --seed 7929

# Running:

E

Finished in 0.001493s, 669.7924 runs/s, 0.0000 assertions/s.

  1) Error:
CalculatorTest#test_addition:
NoMethodError: undefined method `add' for SimpleCalcu:Module
    /private/tmp/simple_calcu/test/calculator_test.rb:6:in `test_addition'

1 runs, 0 assertions, 0 failures, 1 errors, 0 skips
rake aborted!
Command failed with status (1): [ruby -I"lib" -I"/Users/vigo/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib" "/Users/vigo/.rbenv/versions/2.1.2/lib/ruby/gems/2.1.0/gems/rake-10.3.2/lib/rake/rake_test_loader.rb" "test/calculator_test.rb" ]

Tasks: TOP =&gt; default =&gt; test
(See full trace by running task with --trace)
</code></pre></div>
<p>Dediği şu: <code>SimpleCalcu:Module</code> de <code>add</code> diye bir method yok! Hemen bu method’u
implemente edeceğiz, <code>lib/simple_calcu.rb</code> dosyasını açıyoruz:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s2">"simple_calcu/version"</span>

<span class="k">module</span> <span class="nn">SimpleCalcu</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="n">number1</span> <span class="o">+</span> <span class="n">number2</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Test’i tekrar çalıtırıyoruz <code>bundle exec rake</code> ile&hellip; ve test başarıyla
tamamlandı!</p>
<div class="highlight"><pre class="highlight plaintext"><code>Run options: --seed 34247

# Running:

.

Finished in 0.001307s, 765.1109 runs/s, 765.1109 assertions/s.

1 runs, 1 assertions, 0 failures, 0 errors, 0 skips
</code></pre></div>
<p><strong>1</strong> işlem çalıştı, <strong>1</strong> assertion çalıştı ve fail eden <strong>0</strong>, hata <strong>0</strong> ve pas geçilen
(<em>test edilmeden</em>) <strong>0</strong> olarak raporlandı!</p>

<p>Hemen <code>commit</code> yapalım:</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"first test unit passed the test : addition"</span>
</code></pre></div>
<p>Şimdi diğer işlemleri yapalım <code>calculator_test.rb</code>:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'minitest/autorun'</span>
<span class="nb">require</span> <span class="s1">'simple_calcu'</span>

<span class="k">class</span> <span class="nc">CalculatorTest</span> <span class="o">&lt;</span> <span class="no">Minitest</span><span class="o">::</span><span class="no">Test</span>
  <span class="k">def</span> <span class="nf">test_addition</span>
    <span class="n">assert_equal</span> <span class="mi">5</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">test_subtraction</span>
    <span class="n">assert_equal</span> <span class="mi">7</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="nb">sub</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">test_multiplication</span>
    <span class="n">assert_equal</span> <span class="mi">25</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">mul</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">test_division</span>
    <span class="n">assert_equal</span> <span class="mi">5</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">div</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">assert_equal</span> <span class="mf">3.3333333333333335</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">div</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="no">ZeroDivisionError</span><span class="p">)</span> <span class="p">{</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">div</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>ve <code>bundle exec rake</code> ile testleri çalıştıralım:</p>
<div class="highlight"><pre class="highlight plaintext"><code>Run options: --seed 45605

# Running:

....

Finished in 0.001264s, 3164.5570 runs/s, 3164.5570 assertions/s.

4 runs, 4 assertions, 0 failures, 0 errors, 0 skips
</code></pre></div>
<p>Hemen <code>commit</code> yapalım ve yolumuza devam edelim:</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"4 basic math operation tests are passed"</span>
</code></pre></div>
<p>Şimdi asıl işi yapacak fonksiyonumuz için test’i geliştirelim:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">def</span> <span class="nf">test_calculator</span>
  <span class="n">assert_equal</span> <span class="mi">5</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"+"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
  <span class="n">assert_equal</span> <span class="mi">8</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s2">"+"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
  <span class="n">assert_equal</span> <span class="mi">2</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s2">"-"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
  <span class="n">assert_equal</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">"-"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">assert_equal</span> <span class="mi">25</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s2">"*"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
  <span class="n">assert_equal</span> <span class="mi">44</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">"*"</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>
  <span class="n">assert_equal</span> <span class="mi">2</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
  <span class="n">assert_equal</span> <span class="mf">2.5</span><span class="p">,</span> <span class="no">SimpleCalcu</span><span class="o">::</span><span class="n">calculate</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>
<p>Hemen <code>calculate</code> method’u olmadığı için test fail edecek. Bu bakımdan
hemen ilgili method’u oluşturalım <code>simple_calcu.rb</code>:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">calculate</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
  <span class="k">case</span> <span class="n">operator</span>
  <span class="k">when</span> <span class="s2">"+"</span>
    <span class="n">add</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
  <span class="k">when</span> <span class="s2">"-"</span>
    <span class="nb">sub</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
  <span class="k">when</span> <span class="s2">"*"</span>
    <span class="n">mul</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
  <span class="k">when</span> <span class="s2">"/"</span>
    <span class="n">div</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Tekrar testleri çalıştıralım. <code>bundle exec rake</code>. Tüm testlerimiz sorunsuz çalıştı!</p>
<div class="highlight"><pre class="highlight plaintext"><code>Run options: --seed 15050

# Running:

.....

Finished in 0.001841s, 2715.9153 runs/s, 7604.5627 assertions/s.

5 runs, 14 assertions, 0 failures, 0 errors, 0 skips
</code></pre></div>
<p>Şimdi <code>commit</code> zamanı!</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"All tests pass like a charm!"</span>
</code></pre></div>
<p>Şimdi yazdığımız uygulamayı dökümante edelim, <code>version.rb</code> dosyasına;</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="k">module</span> <span class="nn">SimpleCalcu</span>
  <span class="c1"># The current version of SimpleCalcu</span>
  <span class="no">VERSION</span> <span class="o">=</span> <span class="s2">"0.0.1"</span>
<span class="k">end</span>
</code></pre></div>
<p>yorumu ekledikten sonra, <code>simple_calcu.rb</code> dosyasını da;</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s2">"simple_calcu/version"</span>

<span class="c1"># All code in the gem is namespaced under this module.</span>
<span class="k">module</span> <span class="nn">SimpleCalcu</span>

  <span class="c1"># Adds given two numbers</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="n">number1</span> <span class="o">+</span> <span class="n">number2</span>
  <span class="k">end</span>

  <span class="c1"># Subtracts given number1 from number2</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">sub</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="n">number1</span> <span class="o">-</span> <span class="n">number2</span>
  <span class="k">end</span>

  <span class="c1"># Multiplies given two numbers</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">mul</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="n">number1</span> <span class="o">*</span> <span class="n">number2</span>
  <span class="k">end</span>

  <span class="c1"># Divides given number2 to number1</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">div</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="n">number1</span> <span class="o">/</span> <span class="n">number2</span>
  <span class="k">end</span>

  <span class="c1"># Main calculator method. Requires 3 arguments</span>
  <span class="c1"># First and Last arguments must be numbers</span>
  <span class="c1"># Second argument could be "+", "-", "*" or "/" and must be string</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">calculate</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">operator</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">operator</span>
    <span class="k">when</span> <span class="s2">"+"</span>
      <span class="n">add</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="k">when</span> <span class="s2">"-"</span>
      <span class="nb">sub</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="k">when</span> <span class="s2">"*"</span>
      <span class="n">mul</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="k">when</span> <span class="s2">"/"</span>
      <span class="n">div</span><span class="p">(</span><span class="n">number1</span><span class="p">,</span> <span class="n">number2</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>haline getirip ilgili yorumları ekleylim ve <code>rdoc</code> ile döküman oluşturalım:</p>
<div class="highlight"><pre class="highlight shell"><code>rdoc lib
</code></pre></div>
<p><code>doc/</code> dizini altına <code>html</code> olarak dökümantasyon oluştu. <code>index.html</code> dosyasını
tarayıcıda açarak oluşan dökümantasyona bakabilirsiniz.</p>

<p>Şimdi son durumu da <code>commit</code> edelim:</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Document comments for rdoc"</span>
</code></pre></div>
<p>Artık <code>gem</code> hazır hale geldi. Bu noktada artık GitHub’a push edebiliriz.
GitHub’da <code>simple_calcu</code> adında bir repo açıyorum ve sonra buraya push
ediyorum, tabii siz kendi repo adresinizi yazın!:</p>
<div class="highlight"><pre class="highlight shell"><code>git remote add origin git@github.com:vigo/simple_calcu.git
git push <span class="nt">-u</span> origin master
</code></pre></div>
<p>Bu işlemden sonra, kendi tarafımızda <code>gem</code>imizi test etmemiz lazım. Bunun
için <code>bundle exec rake install</code> ile sanki uzaktan kuruyor gibi kurulum
yapmamız gerekiyor.</p>
<div class="highlight"><pre class="highlight shell"><code>bundle <span class="nb">exec </span>rake <span class="nb">install
</span>simple_calcu 0.0.1 built to pkg/simple_calcu-0.0.1.gem.
simple_calcu <span class="o">(</span>0.0.1<span class="o">)</span> installed.
</code></pre></div>
<p>Şeklinde görümemiz gerekiyor. Hemen <code>gem list</code> diyerek sağlamasını yapalım:</p>
<div class="highlight"><pre class="highlight shell"><code>gem list

:
:
simple_calcu <span class="o">(</span>0.0.1<span class="o">)</span>
:
:
</code></pre></div>
<p>gibi listede görmeliyiz. Hemen <code>irb</code> açarak kontrol edelim:</p>
<div class="highlight"><pre class="highlight shell"><code>irb
irb<span class="o">(</span>main<span class="o">)</span>:001:0&gt; require <span class="s1">'simple_calcu'</span>
<span class="o">=&gt;</span> <span class="nb">true
</span>irb<span class="o">(</span>main<span class="o">)</span>:002:0&gt; SimpleCalcu::calculate<span class="o">(</span>2, <span class="s2">"+"</span>, 3<span class="o">)</span>
<span class="o">=&gt;</span> 5
</code></pre></div>
<p>Herşey yolunda gibi! Yapmamız gereken, tekrar <code>gemspec</code> dosyasını açıp;
<code>spec.homepage</code> yerine uygulamanın homepage adresini yazmak:</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="n">spec</span><span class="p">.</span><span class="nf">homepage</span>      <span class="o">=</span> <span class="s2">"https://github.com/vigo/simple_calcu"</span>
</code></pre></div>
<p>haydi son kez <code>commit</code> edip <code>push</code> edelim:</p>
<div class="highlight"><pre class="highlight shell"><code>git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"gemspec, homepage added"</span>
git push
</code></pre></div>
<p>Artık <code>gem</code> paketlenip <a href="https://rubygems.org">Rubygems</a>’e gitmeye hazır!</p>
<div class="highlight"><pre class="highlight shell"><code>bundle <span class="nb">exec </span>rake release

simple_calcu 0.0.1 built to pkg/simple_calcu-0.0.1.gem.
Tagged v0.0.1.
Pushed git commits and tags.
Pushed simple_calcu 0.0.1 to rubygems.org.
</code></pre></div>
<p>Artık sizin de kendinize ait bir <code>gem</code>iniz oldu. Şimdi isterseniz <code>README.md</code>
dosyasını düzenleyip, <code>VERSION = &quot;0.0.2&quot;</code> yapıp tekrar <code>bundle exec rake release</code>
yapabilirsiniz.</p>
</div>
                        </article>
                        
                            <nav class="mt-6 pagination is-centered" role="navigation" aria-label="pagination">
                                <a href="/blog/tr/2013/10/24/textmate-1-ve-mavericks/" class="pagination-previous has-text-link">&laquo; TextMate 1 ve Mavericks</a>
                                <a href="/blog/tr/2013/10/24/textmate-1-ve-mavericks/" class="pagination-next has-text-link">TextMate 1 ve Yosemite &raquo;</a>
                            </nav>
                    </div>
                </div>
                <div class="column is-3-desktop is-full-tablet">
                    <div class="content">
                        
                        
                        <div class="blog-post-list sidebar">
    <h1>Yıllara Göre</h1>
    <p>Blog arşivinde toplam “77” kayıt bulunuyor.</p>
<p><a href="/blog/tr/yil/2022/" class="">2022 yılına ait 1 makale</a></p><p><a href="/blog/tr/yil/2021/" class="">2021 yılına ait 4 makale</a></p><p><a href="/blog/tr/yil/2016/" class="">2016 yılına ait 1 makale</a></p><p><a href="/blog/tr/yil/2015/" class="">2015 yılına ait 1 makale</a></p><p><a href="/blog/tr/yil/2014/" class="">2014 yılına ait 3 makale</a></p><p><a href="/blog/tr/yil/2013/" class="">2013 yılına ait 3 makale</a></p><p><a href="/blog/tr/yil/2012/" class="">2012 yılına ait 8 makale</a></p><p><a href="/blog/tr/yil/2011/" class="">2011 yılına ait 16 makale</a></p><p><a href="/blog/tr/yil/2010/" class="">2010 yılına ait 6 makale</a></p><p><a href="/blog/tr/yil/2009/" class="">2009 yılına ait 22 makale</a></p><p><a href="/blog/tr/yil/2008/" class="">2008 yılına ait 11 makale</a></p><p><a href="/blog/tr/yil/2006/" class="">2006 yılına ait 1 makale</a></p></div>
                    </div>
                </div>
            </div>

        </div>
    </section>


    <footer class="footer">
    <div class="container">
        <div class="content">
            <a href="/feed-tr.xml" title="RSS aboneliği">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-square-rss fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://github.com/sponsors/vigo" title="GitHub sponsorluk">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-heart fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://patreon.com/vigoo" title="Patreon destek">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-patreon fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://github.com/vigo" title="GitHub profili">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-github fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://hub.docker.com/u/vigo/" title="Dockerhub profili">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-docker fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://www.linkedin.com/in/ugurozyilmazel" title="LinkedIn profili">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-linkedin fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://rubygems.org/profiles/vigo" title="Rubygems profili">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-laptop-code fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://pypi.org/user/vigo" title="Python Package Index profili">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-laptop-code fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://csdb.dk/scener/?id=8379" title="CSDB">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://www.pouet.net/user.php?who=4721" title="Pouet">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="http://janeway.exotica.org.uk/author.php?id=11962" title="Amiga Exotica">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://demozoo.org/sceners/6273" title="Demozoo">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://www.demoparty.net/users/vigo" title="Demoparty.net">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>
            
            <script type="text/javascript">
            document.write('<a href="mailto:');
            document.write("hthebmlvyznmry\100tznvy\056pbz".replace(/[a-zA-Z]/g, function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);}));
            document.write('" title="E-Posta"');
            document.write('<span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-at fa-stack-1x"></i></span>');
            document.write('</a>');
            </script>
        </div>
    </div>
</footer>



</body>
</html>