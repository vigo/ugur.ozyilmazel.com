
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Store websites as pdf - Uğur “vigo” Özyılmazel</title>
        <link rel="alternate" type="application/atom+xml" title="Atom Feed (Türkçe)" href="/feed-tr.xml" />
        <link rel="alternate" type="application/atom+xml" title="Atom Feed (English)" href="/feed-en.xml" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
        <script src="https://kit.fontawesome.com/ebc2456445.js" crossorigin="anonymous"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

        <link href="/public/css/syntax.css" rel="stylesheet" />
        <link href="/public/css/application.css" rel="stylesheet" />
    

        <script src="/public/js/application.js"></script>
    
        <meta name="date" content="2025-03-10T00:09:42+03:00" />
        <meta name="description" content="I’ve been saving blog posts I like (to local disk) for a long time." />
        <meta name="author" content="Uğur “vigo” Özyılmazel"/>
        <meta name="copyright" content="(c) 2006 / 2025 - Uğur “vigo” Özyılmazel" />
        <meta property="og:url" content="https://ugur.ozyilmazel.com/blog/en/2022/10/02/store-websites-as-pdf/" />
        <meta property="og:title" content="Store websites as pdf" />
        <meta property="og:site_name" content="vigo" />
        <meta property="og:type" content="website" />
        <meta property="og:description" content="I’ve been saving blog posts I like (to local disk) for a long time." />
        <meta property="og:image" content="https://ugur.ozyilmazel.com/public/images/og/ugur-vigo-ozyilmazel-500x500.jpg" />
        <meta property="og:image:type" content="image/jpeg" />
        <meta property="og:image:width" content="500" />
        <meta property="og:image:height" content="500" />

    <link href="/public/images/favicon.png" rel="shortcut icon" type="image/png" />
    </head>
<body>
    
    
    <section class="section menu">
    <div class="container">
        <nav class="level is-mobile">
            <div class="level-left">
<div class="level-item"><a href="/en/">Home</a></div><div class="level-item"><a href="/blog/en/" class="is-active">Blog Archive</a></div><div class="level-item"><a href="/page/en/about/">About</a></div>            </div>
            <div class="level-right">
<div class="level-item"><a href="https://vbyazilim.com" target="_blank">VB</a></div><div class="level-item"><a href="/">TR</a></div>            </div>
        </nav>
    </div>
</section>

    
        <section class="hero is-medium cover is-hidden-touch" style="background-image: url(/public/images/covers/thb.jpg);">
        <div class="hero-body">
            <div class="container has-text-left">
                
                
            </div>
        </div>
    </section>
  
    
    
    <section class="section main">
        <div class="container">
        
            <div class="columns is-multiline is-variable is-8">
                <div class="column is-9-desktop is-full-tablet">
                    <div class="content is-large">

                        <article>
                            <div class="meta">
                                <span class="reading-time">READING TIME 02:21</span>
                                &mdash;
                                <time pubdate datetime="2022-10-02T15:51:00+03:00" title="Sunday, October 2, 2022, 3:51 PM">Sunday, October 2, 2022, 3:51 PM</time>


                                <div class="tags mt-3">
                                        <a href="/blog/en/tag/osx/" class="tag is-info">osx</a>
                                        <a href="/blog/en/tag/ghostscript/" class="tag is-info">ghostscript</a>
                                        <a href="/blog/en/tag/pdf/" class="tag is-info">pdf</a>
                                </div>

                            </div>
                            
                            <h1 class="title">Store websites as pdf</h1>
                            
                            <div class="yield"><p>I’ve been saving blog posts I like (to local disk) for a long time.
</p>

<p>I subscribe to many newsletters about programming. I have a git repository
where I keep sample codes, small snippets from the articles I read.
Sometimes I want to keep the entire article for later usage.</p>

<p>I was keeping bookmarks&hellip; Tons of links that I’ll read one day&hellip; Bookmarking
is easy but requires maintenance, synchronization between devices, backup
etc&hellip; One day I realized that websites don’t live forever. Domain name can
expire, the author can close/shutdown the site or site may fall into black
hole somehow :)</p>

<p>I should have found a different method. I realized that Safari (macOS) has a
feature that I can save entire page as <a href="https://en.wikipedia.org/wiki/Webarchive">webarchive</a> format. I made some
small automation tools to save page as webarchive than create gzip’ped tar
files and store them under classified folders in a git repo.</p>

<p>First, I was using GitHub. One day, I’ve received an error while pushing the
files to remote repository. I have reached the maximum storage limit. Turns
out the maximum repository size limit was <strong>1 Gigabyte</strong>.</p>

<p>I quickly transferred my repository to GitLab. I was only storing compressed
webarchive files and sometimes <code>png</code> screenshot files. GitLab is like a
bottomless pit, feels like no limits!</p>

<table><thead>
<tr>
<th style="text-align: left">What?</th>
<th style="text-align: right">Size</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">LFS Storage</td>
<td style="text-align: right">4.4 GB</td>
</tr>
<tr>
<td style="text-align: left">Repository</td>
<td style="text-align: right">2.0 GB</td>
</tr>
<tr>
<td style="text-align: left"></td>
<td style="text-align: right"><strong>6.4 GB</strong></td>
</tr>
<tr>
<td style="text-align: left"># of files</td>
<td style="text-align: right"><strong>5178</strong></td>
</tr>
</tbody></table>

<p>Normally, webarchive files are default/native macOS format and can be
previewed via built-in QuickLook feature. Somehow webarchive support is broken
by itself. QuickLook previews were working fine but opening files with Safari
was total disaster.</p>

<p>At least, It was still possible to open webarchive files with TextEdit that
shipped with macOS. Most of the styles were broken but text and the code part
was still readable.</p>

<p>Few days ago, I realized that Safari has PDF export feature under 
<code>File &gt; Export as PDF...</code>. Feature was working fine and were saving the whole 
website as a one single and large pdf file. </p>

<div class="card blog-card mt-2 mb-4"><div class="card-image has-text-centered"><img class="mt-4" title="Small clip from Safari screenshot" src="/public/images/posts/2022-10-02-safari-export-pdf.png" alt="Small clip from Safari screenshot" /></div><div class="card-content"><div class="content has-text-centered is-size-5-desktop is-size-6-mobile has-text-weight-semibold"><p> Safari &gt; File &gt; Export as PDF 
</p></div></div></div>

<p>There was one little issue: <strong>the file size</strong>. How can I reduce the pdf size?</p>
<div class="highlight"><pre class="highlight shell"><code>brew <span class="nb">install </span>ghostscript

gs <span class="nt">-sDEVICE</span><span class="o">=</span>pdfwrite <span class="se">\</span>
    <span class="nt">-dNOPAUSE</span> <span class="nt">-dQUIET</span> <span class="nt">-dBATCH</span> <span class="se">\</span>
    <span class="nt">-dPDFSETTINGS</span><span class="o">=</span>/screen <span class="se">\</span>
    <span class="nt">-dCompatibilityLevel</span><span class="o">=</span>1.4 <span class="se">\</span>
    <span class="nt">-sOutputFile</span><span class="o">=</span><span class="s2">"out-reduced.pdf"</span> <span class="s2">"input-large.pdf"</span>
</code></pre></div>
<p>You can read more about <code>-dPDFSETTINGS</code> <a href="https://ghostscript.com/docs/9.54.0/VectorDevices.htm#PSPDF_IN">here</a>. <code>screen</code> is like; selects
low-resolution output similar to the Acrobat Distiller (up to version X)
<q>Screen Optimized</q> setting. I’ve tried every output options, <code>screen</code> seems
the smallest one:</p>

<table><thead>
<tr>
<th style="text-align: left">Format</th>
<th style="text-align: right">Size</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>webarchive</code></td>
<td style="text-align: right">6.2 MB</td>
</tr>
<tr>
<td style="text-align: left">Export as PDF</td>
<td style="text-align: right">2.6 MB</td>
</tr>
<tr>
<td style="text-align: left"><code>/prepress</code></td>
<td style="text-align: right">1 MB</td>
</tr>
<tr>
<td style="text-align: left"><code>/screen</code></td>
<td style="text-align: right"><strong>383 KB</strong></td>
</tr>
<tr>
<td style="text-align: left"><code>/printer</code></td>
<td style="text-align: right">821 KB</td>
</tr>
<tr>
<td style="text-align: left"><code>/ebook</code></td>
<td style="text-align: right">611 KB</td>
</tr>
</tbody></table>

<p>After compressing with tar+gz, 383 KB reduced to <strong>291 KB</strong>. File size is
reduced by approximately <strong>20 times</strong> (6.2 MB -&gt; 291 KB). Not that bad ha? I
wish I knew these methods/techniques earlier. Thanks to <a href="https://superuser.com/a/1217306/54029">superuser</a> answer!</p>

<p>I just modifed the <a href="https://superuser.com/a/1217306/54029">example function</a>:</p>
<div class="highlight"><pre class="highlight shell"><code>compress_pdf<span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="k">}</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"-h"</span> <span class="o">||</span> <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="k">}</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"--help"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"compress_pdf: [input file] [output file] [screen|ebook|printer|prepress]"</span>
        <span class="nb">echo
        echo</span> <span class="s2">"Requires: ghostscript (brew install ghostscript)"</span>
        <span class="nb">echo
        echo</span> <span class="s2">"Usage:"</span>
        <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\t</span><span class="s2">compress_pdf large.pdf small.pdf  # default is: screen"</span>
        <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\t</span><span class="s2">compress_pdf large.pdf small.pdf ebook"</span>
        <span class="nb">echo
        </span><span class="k">return
    fi

    if</span> <span class="o">[[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">command</span> <span class="nt">-v</span> gs<span class="si">)</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"You need ghostscript: brew install ghostscript"</span>
        <span class="k">return
    fi

    </span><span class="nb">echo</span> <span class="s2">"pdf comression started"</span> <span class="o">&amp;&amp;</span>
    gs <span class="nt">-sDEVICE</span><span class="o">=</span>pdfwrite <span class="se">\</span>
        <span class="nt">-dNOPAUSE</span> <span class="nt">-dQUIET</span> <span class="nt">-dBATCH</span> <span class="se">\</span>
        <span class="nt">-dPDFSETTINGS</span><span class="o">=</span>/<span class="s2">"</span><span class="k">${</span><span class="nv">3</span><span class="k">:-</span><span class="nv">screen</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
        <span class="nt">-dCompatibilityLevel</span><span class="o">=</span>1.4 <span class="se">\</span>
        <span class="nt">-sOutputFile</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">2</span><span class="k">}</span><span class="s2">"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="k">}</span><span class="s2">"</span> <span class="o">&amp;&amp;</span>
    <span class="nb">echo</span> <span class="s2">"pdf comression completed"</span>
<span class="o">}</span>
</code></pre></div></div>
                        </article>
                        
                            <nav class="mt-6 pagination is-centered" role="navigation" aria-label="pagination">
                                <a href="/blog/en/2022/08/13/hello-world/" class="pagination-previous has-text-link">&laquo; Hello world...</a>
                                <a href="/blog/en/2022/08/13/hello-world/" class="pagination-next has-text-link">Brew formula, small deprecation &raquo;</a>
                            </nav>

                    </div>
                </div>

                <div class="column is-3-desktop is-full-tablet">
                    <div class="content">
                        

                        <div class="blog-post-list sidebar">
    <h1>By Year</h1>
    <p>There are “6” posts in blog archive.</p>
<p><a href="/blog/en/year/2024/" class="">2024 has 1 post</a></p><p><a href="/blog/en/year/2022/" class="">2022 has 3 posts</a></p><p><a href="/blog/en/year/2019/" class="">2019 has 1 post</a></p><p><a href="/blog/en/year/2016/" class="">2016 has 1 post</a></p></div>
                        
                    </div>
                </div>
            </div>

        </div>
    </section>


    <footer class="footer">
    <div class="container">
        <div class="content">
            <a href="/feed-en.xml" title="RSS Subscription">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-square-rss fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://github.com/sponsors/vigo" title="GitHub Sponsorship">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-heart fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://patreon.com/vigoo" title="Patreon Sponsorship">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-patreon fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://github.com/vigo" title="GitHub Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-github fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://github.com/vbyazilim" title="VB YAZILIM GitHub Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-github fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://hub.docker.com/u/vigo/" title="Dockerhub Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-docker fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://www.linkedin.com/in/ugurozyilmazel" title="LinkedIn Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-linkedin fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://www.linkedin.com/company/vbyazilim/" title="VB YAZILIM LinkedIn Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-linkedin fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://rubygems.org/profiles/vigo" title="Rubygems Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-laptop-code fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://pypi.org/user/vigo" title="Python Package Index Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-laptop-code fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://vigos.hashnode.dev/" title="Hashnode Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-hashnode fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://opensource-heroes.com/u/vigo" title="Open Source Heroes Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-osi fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://dev.to/vigo" title="Dev Community Profile">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-brands fa-dev fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://csdb.dk/scener/?id=8379" title="CSDB">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>
            <a target="_blank" href="https://www.pouet.net/user.php?who=4721" title="Pouet">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="http://janeway.exotica.org.uk/author.php?id=11962" title="Amiga Exotica">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://demozoo.org/sceners/6273" title="Demozoo">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>

            <a target="_blank" href="https://www.demoparty.net/users/vigo" title="Demoparty.net">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-cube fa-stack-1x"></i></span>
            </a>
            
            <script type="text/javascript">
            document.write('<a href="mailto:');
            document.write("hthebmlvyznmry\100tznvy\056pbz".replace(/[a-zA-Z]/g, function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);}));
            document.write('" title="E-Mail"');
            document.write('<span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fa-solid fa-at fa-stack-1x"></i></span>');
            document.write('</a>');
            </script>

            <a target="_blank" href="https://vbyazilim.com/" title="My Company: VB YAZILIM">
                <span class="fa-stack" style="vertical-align: top;"><i class="fa-regular fa-circle fa-stack-2x"></i><i class="fas fa-building fa-stack-1x"></i></span>
            </a>

        </div>
    </div>
</footer>



</body>
</html>